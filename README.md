# Discord Linux Bypass

Простая библиотека для обхода блокировки голосовых чатов Discord на Linux, изменяющая исходящий UDP трафик для обмана систем DPI.

> [!WARNING]  
> Эта библиотека является эксперементальной и может что-либо сломать. Используйте её на свой страх и риск.

> [!NOTE]
> Эта библиотека обходит только ограничения голосовых каналов. Для всего остального понадобится прокси-сервер.


Эта библиотека основана на наработках аналогичной библиотеки [discord-drover](https://github.com/hdrover/discord-drover) для Windows.

Протестирована на официальном приложении Discord и Vesktop.

## Использование
Укажите переменную `LD_PRELOAD` перед запуском Discord для того, чтобы процесс Discord загрузил её.

Скачайте библиотеку со страницы [Releases](https://github.com/nik9play/discord-linux-bypass/releases).
```bash
LD_PRELOAD=<путь_до_библиотеки>/libdiscordbypass.so discord --proxy-server=<прокси_url>
```
> [!NOTE]
> Вы можете добавить `alias` и изменить `.desktop` файл, если не хотите вводить данную команду каждый раз.

В [discord.sh](https://github.com/nik9play/discord-linux-bypass/blob/master/discord.sh) содержится пример скриптовой реализации. Поместите скрипт с библиотекой в одну директорию и замените адрес прокси-сервера на собственный, после чего сделайте скрипт исполняемым. Скрипт откроет один из установленных клиентов.

## Настройка
По умолчанию библиотека отправляет 2 фейковых пакета и ожидает 50 мс, после чего отправляет настоящий пакет STUN Binding request. 
Вы можете изменить это поведение указав следующие переменные окружения:
```bash
BYPASS_DELAY=50       # задержка перед отправкой настоящего пакета (по умолчанию 50)
BYPASS_FAKE_PACKETS=2  # количество фейковых пакетов перед настоящим (по умолчанию 2)
```
